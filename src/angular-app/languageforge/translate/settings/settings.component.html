<div data-ng-cloak id="translateAppSettingsView">
    <h2>{{$ctrl.project.projectName}} <span data-translate="Settings"></span></h2>
    <uib-tabset>
        <uib-tab heading="{{'Project Properties' | translate}}">
            <form class="card card-default ng-pristine ng-valid ng-scope ng-submitted" data-ng-submit="$ctrl.updateProject()">
                <fieldset class="card-block" data-ng-disabled="!$ctrl.rights.canEditProject()">
                    <div class="form-group row">
                        <label class="control-label col-xs-12" for="projName" data-translate="Project Name"></label>
                        <div class="controls col-xs-12">
                            <input id="projName" type="text" class="form-control" placeholder="project name"
                                   data-ng-model="$ctrl.project.projectName" />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="control-label col-xs-12" for="language"
                               data-translate="Default Interface Language"></label>
                        <div class="controls col-xs-12">
                            <select class="form-control" id="language"
                                data-ng-model="$ctrl.project.interfaceLanguageCode"
                                data-ng-options="$ctrl.interfaceConfig.selectLanguages.options[code] for code in $ctrl.interfaceConfig.selectLanguages.optionsOrder">
                                <option value="">-- choose a language --</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="control-label col-xs-12">{{'Project Code' | translate}}</label>
                        <div class="controls col-xs-12">
                            {{$ctrl.project.projectCode}}
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="control-label col-xs-12">{{'Project Owner' | translate}}</label>
                        <div class="controls col-xs-12">
                            {{$ctrl.project.ownerRef.username}}
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="controls col-xs-12">
                            <label class="checkbox"><input type="checkbox" data-ng-model="$ctrl.project.featured"/>
                                {{'Featured On Website' | translate}}</label>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="controls col-xs-12">
                            <button type="submit" class="btn btn-primary"><i class="fa fa-check"></i>
                                {{'Save' | translate}}</button>
                        </div>
                    </div>
                </fieldset>
            </form>
        </uib-tab>
        <uib-tab heading="{{'Languages' | translate}}">
            <form class="card card-default ng-pristine ng-valid ng-scope ng-submitted" data-ng-submit="$ctrl.updateConfig()">
                <fieldset class="card-block" data-ng-disabled="!$ctrl.rights.canEditProject()">
                    <languages-picker data-tlp-project="$ctrl.project"
                                      data-tlp-update-language="$ctrl.updateLanguage(docType, code, language)">
                    </languages-picker>
                    <h3 data-translate="Translation Data"></h3>
                    <div class="form-group row">
                        <div class="controls col-xs-12">
                            <button type="button" class="btn btn-default" data-ng-click="$ctrl.retrain()">
                                <i class="fa fa-graduation-cap"></i>
                                {{'Re-train' | translate}}</button>
                            <span>{{$ctrl.retrainMessage}}</span>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="controls col-xs-12">
                            <button type="submit" class="btn btn-primary"><i class="fa fa-check"></i>
                                {{'Save' | translate}}</button>
                        </div>
                    </div>
                </fieldset>
            </form>
        </uib-tab>
        <uib-tab heading="{{'Suggestions' | translate}}" select="$ctrl.redrawSlider()">
            <form class="card card-default ng-pristine ng-valid ng-scope ng-submitted" data-ng-submit="$ctrl.updateConfig()">
                <fieldset class="card-block" data-ng-disabled="!$ctrl.rights.canEditEntry()">
                    <div class="form-group row">
                        <label class="control-label col-xs-12" data-translate="Confidence"></label>
                        <div class="form-group col-xs-12">
                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" data-ng-value="false"
                                           data-ng-model="$ctrl.confidence.isMyThreshold"
                                           data-ng-change="$ctrl.selectWhichConfidence()"
                                           data-ng-required="$ctrl.confidence.isMyThreshold === undefined" />
                                    {{'Use the project\'s confidence threshold' | translate}}
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" data-ng-value="true"
                                           data-ng-model="$ctrl.confidence.isMyThreshold"
                                           data-ng-change="$ctrl.selectWhichConfidence()"
                                           data-ng-required="$ctrl.confidence.isMyThreshold === undefined" />
                                    {{'Use my own confidence threshold' | translate}}
                                </label>
                            </div>
                        </div>
                        <div class="controls col-xs-12">
                            <rzslider rz-slider-model="$ctrl.confidence.value"
                                      rz-slider-options="$ctrl.confidence.options"></rzslider>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="controls col-xs-12">
                            <button type="submit" class="btn btn-primary" data-ng-disabled="!$ctrl.rights.canEditEntry()">
                                <i class="fa fa-check"></i>
                                {{'Save' | translate}}</button>
                        </div>
                    </div>
                </fieldset>
            </form>
        </uib-tab>

        <!-- Archive tab disabled now that project owners can delete their own projects -->
        <uib-tab heading="{{'Archive' | translate}}" data-ng-show="false">
            <form class="card card-default">
                <div class="card-block">
                    <pui-archive-project pui-action-in-progress="$ctrl.actionInProgress">
                    </pui-archive-project>
                </div>
            </form>
        </uib-tab>
        <uib-tab heading="{{'Delete' | translate}}" data-ng-show="$ctrl.rights.canDeleteProject()">
            <form class="card card-default">
                <div class="card-block">
                    <pui-delete-project></pui-delete-project>
                </div>
            </form>
        </uib-tab>
    </uib-tabset>
</div>
