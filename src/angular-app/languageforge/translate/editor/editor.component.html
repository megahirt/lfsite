<h2>{{$ctrl.tecProject.projectName}}</h2>
<div id="toolbar" class="row">
    <span class="ql-formats">
        <select class="ql-header">
            <option value="1"></option>
            <option value="2"></option>
            <option value="3"></option>
            <option selected>Normal text</option>
        </select>
    </span>
    <span class="ql-formats">
        <select class="ql-font"></select>
    </span>
    <span class="ql-formats">
        <select class="ql-size">
            <option value="small">10</option>
            <option selected>13</option>
            <option value="large">18</option>
            <option value="huge">32</option>
        </select>
    </span>
    <span class="ql-formats">
        <button class="ql-bold"></button>
        <button class="ql-italic"></button>
        <button class="ql-underline"></button>
        <button class="ql-strike"></button>
    </span>
    <span class="ql-formats">
        <button class="ql-script" value="sub"></button>
        <button class="ql-script" value="super"></button>
    </span>
    <span class="ql-formats">
        <select class="ql-color"></select>
        <select class="ql-background"></select>
    </span>
    <span class="ql-formats">
        <button class="ql-align" value=""></button>
        <button class="ql-align" value="center"></button>
        <button class="ql-align" value="right"></button>
        <button class="ql-align" value="justify"></button>
    </span>
    <span class="ql-formats">
        <button class="ql-list" value="ordered"></button>
        <button class="ql-list" value="bullet"></button>
        <button class="ql-indent" value="-1"></button>
        <button class="ql-indent" value="+1"></button>
    </span>
    <span class="ql-formats">
        <button class="ql-direction" value="rtl"></button>
    </span>
    <span class="ql-formats">
        <button class="ql-clean"></button>
    </span>
</div>
<div id="editor-area" class="row flex-grow">
    <div id="picklist-column" class="col-sm d-flex flex-column mb-1">
        <div class="d-flex mb-1">
            <label class="flex-grow text-truncate" data-translate="Documents"></label>
            <button type="button" class="btn btn-std btn-sm" data-ng-click="$ctrl.modalUpdateDocumentSet()">
                <i class="fa fa-plus"></i></button>
        </div>
        <div class="picklist">
            <div data-ng-repeat="documentSet in $ctrl.documentSets" data-ng-class="{ selected: $ctrl.selectedDocumentSetIndex === $index }">
                <div class="btn-group" uib-dropdown dropdown-append-to-body data-ng-class="$ctrl.tecInterfaceConfig.pullToSide" data-ng-show="$ctrl.selectedDocumentSetIndex === $index">
                    <a class="pui-no-caret" uib-dropdown-toggle id="dropdownMenuLink">
                        <i class="fa fa-ellipsis-v"></i></a>
                    <div class="dropdown-menu" data-ng-class="$ctrl.dropdownMenuClass" uib-dropdown-menu aria-labelledby="dropdownMenuLink">
                        <a class="dropdown-item" data-ng-click="$ctrl.modalUpdateDocumentSet($index)">
                            <i class="fa fa-pencil iconPadding"></i>{{'Edit Name' | translate}}</a>
                        <a class="dropdown-item" data-ng-click="$ctrl.modalMoveDocumentSet($index)">
                            <i class="fa fa-arrows-v iconPadding"></i>{{'Move' | translate}}</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" data-ng-click="$ctrl.modalDeleteDocumentSet($index)">
                            <i class="fa fa-times iconPadding"></i>{{'Delete' | translate}}</a>
                    </div>
                </div>
                <div class="picklistLabel" data-ng-click="$ctrl.selectDocumentSet($index)"
                     data-pui-show-overflow data-ng-bind="documentSet.name">
                </div>
            </div>
        </div>
        <button class="btn btn-std btn-sm" type="button" data-ng-click="showMetrics = !showMetrics" style="margin-top: 10px">
            {{showMetrics ? 'Hide' : 'Show'}} Metrics</button>
    </div>
    <div class="col-sm d-flex flex-column mb-1">
        <div class="row flex-grow">
            <div class="col-sm-6 d-flex flex-column" lang="{{$ctrl.left.inputSystem.tag}}" data-ng-show="$ctrl.hasDocumentSets()">
                <div class="d-flex mb-1">
                    <label class="flex-grow text-truncate">{{$ctrl.getEditorLabel($ctrl.left)}}</label>
                    <button type="button" class="btn btn-std btn-sm d-none d-sm-block" data-ng-click="$ctrl.swapEditors()">
                        <i class="fa fa-exchange"></i></button>
                </div>
                <ng-quill-editor
                    id="editorLeft" data-modules="$ctrl.left.modulesConfig" data-theme="suggestions"
                    data-on-editor-created="$ctrl.onQuillCreated(editor, $ctrl.left)"
                    data-on-content-changed="$ctrl.onContentChanged($ctrl.left)"
                    data-on-selection-changed="$ctrl.onSelectionChanged($ctrl.left)"
                    data-ng-model="$ctrl.left.html" data-read-only="!$ctrl.hasDocumentSets()"
                    data-placeholder="&#8203;enter text here or drop a file"></ng-quill-editor>
                <div class="ql-suggestions">
                    <ql-suggestion data-ql-suggestions="$ctrl.left.suggestions"
                                data-ql-insert-suggestion="$ctrl.left.insertSuggestion(suggestionIndex)"></ql-suggestion>
                </div>
            </div>
            <div class="col-sm-6 d-sm-none" data-ng-show="$ctrl.hasDocumentSets()">
                <button type="button" class="btn btn-std btn-sm" data-ng-click="$ctrl.swapEditors()">
                    <i class="fa fa-exchange fa-rotate-90"></i></button>
            </div>
            <div class="col-sm-6 d-flex flex-column" lang="{{$ctrl.right.inputSystem.tag}}" data-ng-show="$ctrl.hasDocumentSets()">
                <div class="mb-1">
                    <label>{{$ctrl.getEditorLabel($ctrl.right)}}</label>
                </div>
                <ng-quill-editor
                    id="editorRight" data-modules="$ctrl.right.modulesConfig" data-theme="suggestions"
                    data-on-editor-created="$ctrl.onQuillCreated(editor, $ctrl.right)"
                    data-on-content-changed="$ctrl.onContentChanged($ctrl.right)"
                    data-on-selection-changed="$ctrl.onSelectionChanged($ctrl.right)"
                    data-ng-model="$ctrl.right.html" data-read-only="!$ctrl.hasDocumentSets()"
                    data-placeholder="&#8203;enter text here or drop a file"></ng-quill-editor>
                <div class="ql-suggestions">
                    <ql-suggestion data-ql-suggestions="$ctrl.right.suggestions"
                                data-ql-insert-suggestion="$ctrl.right.insertSuggestion(suggestionIndex)"></ql-suggestion>
                </div>
            </div>
        </div>
    </div>
</div>
<div data-ng-if="showMetrics">
    <small class="text-muted">
        Backspace key {{$ctrl.metrics.keyBackspaceCount}}&nbsp;&nbsp;&nbsp;
        Delete key {{$ctrl.metrics.keyDeleteCount}}&nbsp;&nbsp;&nbsp;
        Character keys {{$ctrl.metrics.keyCharacterCount}}&nbsp;&nbsp;&nbsp;
        Navigation keys {{$ctrl.metrics.keyNavigationCount}}&nbsp;&nbsp;&nbsp;
        Mouse clicks {{$ctrl.metrics.mouseClickCount}}&nbsp;&nbsp;&nbsp;
        Suggestions accepted {{$ctrl.metrics.suggestionAcceptedCount}}&nbsp;&nbsp;&nbsp;
        Total suggestions {{$ctrl.metrics.suggestionTotalCount}}&nbsp;&nbsp;&nbsp;
        Words {{$ctrl.metrics.wordCount}}&nbsp;&nbsp;&nbsp;
        Active edit time {{$ctrl.metrics.timeEditActive | secondsToTime}}&nbsp;&nbsp;&nbsp;
        Total time {{$ctrl.metrics.timeTotal | secondsToTime}}
    </small>
</div>
