<div class="container" ng-app="signup" ng-cloak>

	<div ng-controller="UserCtrl">
		<legend>Create an Account</legend>

		<div class="notification errorMessage"
			ng-show="!success.state && success.message">{{notify.error}}</div>
		<div ng-hide="success.state" class="span4">
			<form ng-submit="createUser(record)" id="userForm">
				<fieldset>
					<legend>Sign Up Below</legend>
					<div class="well">
						<div>
							<label>User Name</label> <input required type="text"
								placeholder="pick an username" ng-model="record.username"
								name="username" id="username" ng-blur="checkUserName()" /> 
								<span  ng-show="userNameLoading"><img id="userNameLoading" src="/images/loading-small.gif" style="position: absolute; padding-left: 5px; padding-top: 8px;" /></span>
								<span  ng-show="userNameOk"><img id="userNameOk" src="/images/tick.png" title="User name is available!" style="position: absolute; padding-left: 5px; padding-top: 8px;"/></span>
								<span  ng-show="userNameExists"><img id="userNameExists" src="/images/exclamation.png" title="User name already exist!" style="position: absolute; padding-left: 5px; padding-top: 8px;"/></span>
						</div>
						<div>
							<label>Name</label> <input required type="text"
								placeholder="your name" ng-model="record.name" />
						</div>
						<div>
							<label>Email</label> <input required type="text"
								placeholder="your email" ng-model="record.email" />
						</div>
						<div>
							<label>Password</label> <input required type="text"
								ng-model="record.password" name="password" />
						</div>
						<div>
							<label>Verify the letters in this image</label> 
							<img id="captcha" ng-src="{{captchaSrc}}" />
							<a class="btn btn-small" ng-click="getCaptchaSrc()">Different Image</a>
							<div id="captchaError" class="notification errorMessage" ng-show="captchaError">Incorrect code. Please try again</div>
							<input required type="text" ng-model="record.captcha" name="captcha" />
						</div>
					</div>
					<button id="submit" class="btn btn-primary" type="submit"
						ng-disabled="userNameExists || userForm.$invalid">
						Sign Up <i style="margin-left: 5px" class="icon-thumbs-up"></i>
					</button>
				</fieldset>
			</form>
		</div>
		<div ng-show="success.state">Thank you, {{record.name}}. You are
			now signed up. We will contact you when your account is active.</div>
	</div>
</div>

<script>

</script>
